{"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/connection.ts":{"path":"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/connection.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":19},"end":{"line":6,"column":55}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":25}},"5":{"start":{"line":8,"column":21},"end":{"line":8,"column":60}},"6":{"start":{"line":9,"column":26},"end":{"line":10,"column":68}},"7":{"start":{"line":10,"column":24},"end":{"line":10,"column":68}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":26},"end":{"line":9,"column":27}},"loc":{"start":{"line":10,"column":24},"end":{"line":10,"column":68}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":9,"column":27},"end":{"line":10,"column":19}},"type":"default-arg","locations":[{"start":{"line":9,"column":46},"end":{"line":10,"column":19}}],"line":9},"4":{"loc":{"start":{"line":9,"column":46},"end":{"line":10,"column":19}},"type":"binary-expr","locations":[{"start":{"line":9,"column":46},"end":{"line":9,"column":67}},{"start":{"line":10,"column":7},"end":{"line":10,"column":19}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{"0":1,"1":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1],"3":[1],"4":[1,1]},"inputSourceMap":{"version":3,"file":"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/connection.ts","sources":["/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/connection.ts"],"names":[],"mappings":";;;;;AAAA,wDAAgC;AAChC,yBAAuB;AAEvB,MAAM,YAAY,GAAG,uCAAuC,CAAC;AAE7D,MAAM,iBAAiB,GAAG,CACxB,gBAAgB,GAAG,OAAO,CAAC,GAAG,CAAC,SAAS;OACnC,YAAY,EACjB,EAAE,CAAC,kBAAQ,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;AAExC,kBAAe,iBAAiB,CAAC","sourcesContent":["import mongoose from 'mongoose';\nimport 'dotenv/config';\n\nconst MONGO_DB_URL = 'mongodb://localhost:27017/shareenergy';\n\nconst connectToDatabase = (\n  mongoDatabaseURI = process.env.MONGO_URI\n    || MONGO_DB_URL,\n) => mongoose.connect(mongoDatabaseURI);\n\nexport default connectToDatabase;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"88469aaef7b4ee33b39d1004dd0b5bf8bb61ba6a","contentHash":"778a2e267715e80f30971a260469b6835aa9f69e896d6be7f5204016a5ea83e1"},"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/controllers/CustomerControllers.ts":{"path":"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/controllers/CustomerControllers.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":31}},"2":{"start":{"line":8,"column":24},"end":{"line":8,"column":32}},"3":{"start":{"line":9,"column":8},"end":{"line":16,"column":9}},"4":{"start":{"line":10,"column":12},"end":{"line":10,"column":43}},"5":{"start":{"line":11,"column":12},"end":{"line":11,"column":83}},"6":{"start":{"line":14,"column":12},"end":{"line":15,"column":74}},"7":{"start":{"line":19,"column":23},"end":{"line":19,"column":31}},"8":{"start":{"line":20,"column":8},"end":{"line":27,"column":9}},"9":{"start":{"line":21,"column":27},"end":{"line":21,"column":57}},"10":{"start":{"line":22,"column":12},"end":{"line":22,"column":48}},"11":{"start":{"line":25,"column":12},"end":{"line":26,"column":61}},"12":{"start":{"line":30,"column":8},"end":{"line":37,"column":9}},"13":{"start":{"line":31,"column":30},"end":{"line":31,"column":58}},"14":{"start":{"line":32,"column":12},"end":{"line":32,"column":51}},"15":{"start":{"line":35,"column":12},"end":{"line":36,"column":80}},"16":{"start":{"line":40,"column":8},"end":{"line":49,"column":9}},"17":{"start":{"line":41,"column":28},"end":{"line":41,"column":36}},"18":{"start":{"line":42,"column":27},"end":{"line":42,"column":37}},"19":{"start":{"line":43,"column":30},"end":{"line":43,"column":64}},"20":{"start":{"line":44,"column":12},"end":{"line":44,"column":51}},"21":{"start":{"line":47,"column":12},"end":{"line":48,"column":80}},"22":{"start":{"line":52,"column":8},"end":{"line":60,"column":9}},"23":{"start":{"line":53,"column":27},"end":{"line":53,"column":37}},"24":{"start":{"line":54,"column":30},"end":{"line":54,"column":59}},"25":{"start":{"line":55,"column":12},"end":{"line":55,"column":51}},"26":{"start":{"line":58,"column":12},"end":{"line":59,"column":73}},"27":{"start":{"line":63,"column":0},"end":{"line":63,"column":37}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":25},"end":{"line":6,"column":5}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":27},"end":{"line":17,"column":5}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":28},"end":{"line":28,"column":5}},"line":18},"3":{"name":"(anonymous_3)","decl":{"start":{"line":29,"column":4},"end":{"line":29,"column":5}},"loc":{"start":{"line":29,"column":29},"end":{"line":38,"column":5}},"line":29},"4":{"name":"(anonymous_4)","decl":{"start":{"line":39,"column":4},"end":{"line":39,"column":5}},"loc":{"start":{"line":39,"column":27},"end":{"line":50,"column":5}},"line":39},"5":{"name":"(anonymous_5)","decl":{"start":{"line":51,"column":4},"end":{"line":51,"column":5}},"loc":{"start":{"line":51,"column":27},"end":{"line":61,"column":5}},"line":51}},"branchMap":{},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1},"f":{"0":2,"1":1,"2":0,"3":0,"4":0,"5":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/controllers/CustomerControllers.ts","sources":["/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/controllers/CustomerControllers.ts"],"names":[],"mappings":";;AAIA,MAAqB,kBAAkB;IACrC,YAAoB,OAAqC;QAArC,YAAO,GAAP,OAAO,CAA8B;IAAI,CAAC;IAEvD,KAAK,CAAC,MAAM,CACjB,GAAY,EACZ,GAAa;QAEb,MAAM,EAAE,GAAG,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;QACzB,IAAI;YACF,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YAC/B,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,4BAA4B,EAAE,CAAC,CAAC;SACxE;QAAC,MAAM;YACN,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC;iBACnB,IAAI,CAAC,EAAE,OAAO,EAAE,qCAAqC,EAAE,CAAC,CAAC;SAC7D;IACH,CAAC;IAEM,KAAK,CAAC,OAAO,CAClB,GAAY,EACZ,GAAa;QAEb,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;QACxB,IAAI;YACF,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YAC9C,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SACrC;QAAC,MAAM;YACN,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC;iBACnB,IAAI,CAAC,EAAE,OAAO,EAAE,wBAAwB,EAAE,CAAC,CAAC;SAChD;IACH,CAAC;IAEM,KAAK,CAAC,OAAO,CAClB,IAAa,EACb,GAAa;QAEb,IAAI;YACF,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;YAC/C,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SACxC;QAAC,MAAM;YACN,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC;iBACnB,IAAI,CAAC,EAAE,OAAO,EAAE,2CAA2C,EAAE,CAAC,CAAC;SACnE;IACH,CAAC;IAEM,KAAK,CAAC,MAAM,CACjB,GAAY,EACZ,GAAa;QAEb,IAAI;YACF,MAAM,EAAE,GAAG,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;YACzB,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;YAC1B,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;YACrD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SACxC;QAAC,MAAM;YACN,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC;iBACnB,IAAI,CAAC,EAAE,OAAO,EAAE,2CAA2C,EAAE,CAAC,CAAC;SACnE;IACH,CAAC;IAEM,KAAK,CAAC,MAAM,CACjB,GAAY,EACZ,GAAa;QAEb,IAAI;YACF,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;YAC1B,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YAChD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SACxC;QAAC,MAAM;YACN,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC;iBACnB,IAAI,CAAC,EAAE,OAAO,EAAE,oCAAoC,EAAE,CAAC,CAAC;SAC5D;IACH,CAAC;CACF;AAxED,qCAwEC","sourcesContent":["import { Request, Response } from 'express';\nimport ICustomerService from '../interfaces/ICustumerService';\nimport { ICustomers } from '../interfaces/ICustomers';\n\nexport default class CustomerController {\n  constructor(private service: ICustomerService<ICustomers>) { }\n\n  public async create(\n    req: Request,\n    res: Response,\n  ) {\n    const { obj } = req.body;\n    try {\n      await this.service.create(obj);\n      return res.status(201).json({ message: 'Usuario criado com sucesso' });\n    } catch {\n      return res.status(400)\n        .json({ message: 'Usuario com os campos já cadastrado' });\n    }\n  }\n\n  public async readOne(\n    req: Request,\n    res: Response,\n  ) {\n    const { id } = req.body;\n    try {\n      const result = await this.service.readOne(id);\n      return res.status(201).json(result);\n    } catch {\n      return res.status(400)\n        .json({ message: 'Usuario não encontrado' });\n    }\n  }\n\n  public async readAll(\n    _req: Request,\n    res: Response,\n  ) {\n    try {\n      const customers = await this.service.readAll();\n      return res.status(200).json(customers);\n    } catch {\n      return res.status(400)\n        .json({ message: 'não foi possível encontrar nenhum usuario' });\n    }\n  }\n\n  public async update(\n    req: Request,\n    res: Response,\n  ) {\n    try {\n      const { obj } = req.body;\n      const { id } = req.params;\n      const customers = await this.service.update(id, obj);\n      return res.status(204).json(customers);\n    } catch {\n      return res.status(400)\n        .json({ message: 'não foi possível atualizar nenhum usuario' });\n    }\n  }\n\n  public async delete(\n    req: Request,\n    res: Response,\n  ) {\n    try {\n      const { id } = req.params;\n      const customers = await this.service.delete(id);\n      return res.status(202).json(customers);\n    } catch {\n      return res.status(400)\n        .json({ message: 'não foi possível excluir o cliente' });\n    }\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e00a1d93813187d6091a9ef2b58661122d64a7fe","contentHash":"fce133d0eeb3c44ddd260496a9f473218b90ac774e7de762dded9432d917fbdc"},"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/services/CustumersService.ts":{"path":"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/services/CustumersService.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":25},"end":{"line":3,"column":52}},"2":{"start":{"line":4,"column":22},"end":{"line":4,"column":45}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":30}},"4":{"start":{"line":10,"column":37},"end":{"line":10,"column":40}},"5":{"start":{"line":11,"column":22},"end":{"line":11,"column":75}},"6":{"start":{"line":12,"column":8},"end":{"line":13,"column":43}},"7":{"start":{"line":13,"column":12},"end":{"line":13,"column":43}},"8":{"start":{"line":14,"column":23},"end":{"line":14,"column":54}},"9":{"start":{"line":15,"column":8},"end":{"line":15,"column":22}},"10":{"start":{"line":18,"column":22},"end":{"line":18,"column":56}},"11":{"start":{"line":19,"column":8},"end":{"line":21,"column":9}},"12":{"start":{"line":20,"column":12},"end":{"line":20,"column":46}},"13":{"start":{"line":22,"column":8},"end":{"line":22,"column":21}},"14":{"start":{"line":25,"column":23},"end":{"line":25,"column":52}},"15":{"start":{"line":26,"column":8},"end":{"line":27,"column":46}},"16":{"start":{"line":27,"column":12},"end":{"line":27,"column":46}},"17":{"start":{"line":28,"column":8},"end":{"line":28,"column":22}},"18":{"start":{"line":31,"column":29},"end":{"line":31,"column":65}},"19":{"start":{"line":32,"column":8},"end":{"line":33,"column":46}},"20":{"start":{"line":33,"column":12},"end":{"line":33,"column":46}},"21":{"start":{"line":34,"column":8},"end":{"line":34,"column":28}},"22":{"start":{"line":37,"column":29},"end":{"line":37,"column":60}},"23":{"start":{"line":38,"column":8},"end":{"line":39,"column":46}},"24":{"start":{"line":39,"column":12},"end":{"line":39,"column":46}},"25":{"start":{"line":40,"column":8},"end":{"line":40,"column":28}},"26":{"start":{"line":43,"column":0},"end":{"line":43,"column":35}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":23},"end":{"line":8,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":22},"end":{"line":16,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":23},"end":{"line":23,"column":5}},"line":17},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":20},"end":{"line":29,"column":5}},"line":24},"4":{"name":"(anonymous_4)","decl":{"start":{"line":30,"column":4},"end":{"line":30,"column":5}},"loc":{"start":{"line":30,"column":27},"end":{"line":35,"column":5}},"line":30},"5":{"name":"(anonymous_5)","decl":{"start":{"line":36,"column":4},"end":{"line":36,"column":5}},"loc":{"start":{"line":36,"column":22},"end":{"line":41,"column":5}},"line":36}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":8},"end":{"line":13,"column":43}},"type":"if","locations":[{"start":{"line":12,"column":8},"end":{"line":13,"column":43}},{"start":{"line":12,"column":8},"end":{"line":13,"column":43}}],"line":12},"1":{"loc":{"start":{"line":19,"column":8},"end":{"line":21,"column":9}},"type":"if","locations":[{"start":{"line":19,"column":8},"end":{"line":21,"column":9}},{"start":{"line":19,"column":8},"end":{"line":21,"column":9}}],"line":19},"2":{"loc":{"start":{"line":26,"column":8},"end":{"line":27,"column":46}},"type":"if","locations":[{"start":{"line":26,"column":8},"end":{"line":27,"column":46}},{"start":{"line":26,"column":8},"end":{"line":27,"column":46}}],"line":26},"3":{"loc":{"start":{"line":32,"column":8},"end":{"line":33,"column":46}},"type":"if","locations":[{"start":{"line":32,"column":8},"end":{"line":33,"column":46}},{"start":{"line":32,"column":8},"end":{"line":33,"column":46}}],"line":32},"4":{"loc":{"start":{"line":38,"column":8},"end":{"line":39,"column":46}},"type":"if","locations":[{"start":{"line":38,"column":8},"end":{"line":39,"column":46}},{"start":{"line":38,"column":8},"end":{"line":39,"column":46}}],"line":38}},"s":{"0":1,"1":1,"2":1,"3":3,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1},"f":{"0":3,"1":0,"2":0,"3":0,"4":0,"5":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"file":"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/services/CustumersService.ts","sources":["/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/services/CustumersService.ts"],"names":[],"mappings":";;AAIA,MAAM,gBAAgB,GAAG,2BAA2B,CAAC;AACrD,MAAM,aAAa,GAAG,uBAAuB,CAAC;AAE9C,MAAM,gBAAgB;IAGpB,YAAY,KAAwB;QAClC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;IACxB,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,GAAgB;QAClC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,GAAG,CAAC;QACjC,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,IAAI,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;QACpE,IAAI,KAAK;YAAE,MAAM,IAAI,KAAK,CAAC,aAAa,CAAC,CAAC;QAC1C,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAC/C,OAAO,MAAM,CAAC;IAChB,CAAC;IAEM,KAAK,CAAC,OAAO,CAAC,GAAY;QAC/B,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QACjD,IAAI,CAAC,KAAK,EAAE;YACV,MAAM,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAC;SACnC;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IAEM,KAAK,CAAC,OAAO;QAClB,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;QAC7C,IAAI,CAAC,MAAM;YAAE,MAAM,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAC;QAC/C,OAAO,MAAM,CAAC;IAChB,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,GAAU,EAAE,GAAuB;QACrD,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;QAC1D,IAAI,CAAC,YAAY;YAAE,MAAM,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAC;QACrD,OAAO,YAAY,CAAC;IACtB,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,GAAU;QAC5B,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QACrD,IAAI,CAAC,YAAY;YAAE,MAAM,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAC;QACrD,OAAO,YAAY,CAAC;IACtB,CAAC;CACF;AAED,kBAAe,gBAAgB,CAAC","sourcesContent":["import ICustomerService from '../interfaces/ICustumerService';\nimport { ICustomers } from '../interfaces/ICustomers';\nimport { IModel } from '../interfaces/IModel';\n\nconst ErrorMsgNotFound = 'Nenhum usuario encontrado';\nconst ErrorMsgExist = 'Usuario Já cadastrado';\n\nclass CustomersService implements ICustomerService<ICustomers> { \n  private costumer:IModel<ICustomers>;\n\n  constructor(model:IModel<ICustomers>) {\n    this.costumer = model;\n  }\n\n  public async create(obj : ICustomers):Promise<ICustomers | Error> {\n    const { name, email, cpf } = obj;\n    const Users = await this.costumer.readOneCustumer(name, cpf, email);\n    if (Users) throw new Error(ErrorMsgExist);\n    const result = await this.costumer.create(obj);\n    return result;\n  }\n\n  public async readOne(_id : string):Promise<ICustomers | undefined> {\n    const Users = await this.costumer.readOneId(_id);\n    if (!Users) {\n      throw new Error(ErrorMsgNotFound);\n    }\n    return Users;\n  }\n\n  public async readAll():Promise<ICustomers[]> {\n    const result = await this.costumer.readAll();\n    if (!result) throw new Error(ErrorMsgNotFound);\n    return result;\n  }\n\n  public async update(_id:string, obj:Partial<ICustomers>):Promise<ICustomers> {\n    const resultUpdate = await this.costumer.update(_id, obj);\n    if (!resultUpdate) throw new Error(ErrorMsgNotFound);\n    return resultUpdate;\n  }\n\n  public async delete(_id:string):Promise<ICustomers> {\n    const resultDelete = await this.costumer.delete(_id);\n    if (!resultDelete) throw new Error(ErrorMsgNotFound);\n    return resultDelete;\n  }\n}\n\nexport default CustomersService;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9336b973a1f7032d71c29a9a37676099fb07c1fb","contentHash":"7c1507cff949afcfc1650e0f8d0eb88bd2eb59dac33d02fb6a3515383d36cd46"},"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/models/CustomersModel.ts":{"path":"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/models/CustomersModel.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":19},"end":{"line":6,"column":38}},"4":{"start":{"line":7,"column":21},"end":{"line":7,"column":61}},"5":{"start":{"line":8,"column":28},"end":{"line":14,"column":25}},"6":{"start":{"line":17,"column":8},"end":{"line":17,"column":21}},"7":{"start":{"line":20,"column":0},"end":{"line":20,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":81},"end":{"line":18,"column":5}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":16,"column":16},"end":{"line":16,"column":79}},"type":"default-arg","locations":[{"start":{"line":16,"column":24},"end":{"line":16,"column":79}}],"line":16}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":4,"7":1},"f":{"0":1,"1":4},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[4]},"inputSourceMap":{"version":3,"file":"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/models/CustomersModel.ts","sources":["/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/models/CustomersModel.ts"],"names":[],"mappings":";;;;;AAAA,uCAAgE;AAEhE,8DAAsC;AAEtC,MAAM,mBAAmB,GAAG,IAAI,iBAAM,CAAa;IACjD,IAAI,EAAE,MAAM;IACZ,GAAG,EAAE,MAAM;IACX,OAAO,EAAE,MAAM;IACf,KAAK,EAAE,MAAM;IACb,KAAK,EAAE,MAAM;CACd,EAAE,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,CAAC;AAE1B,MAAM,IAAK,SAAQ,oBAAsB;IACvC,YAAY,KAAK,GAAG,IAAA,gBAAmB,EAAC,WAAW,EAAE,mBAAmB,CAAC;QACvE,KAAK,CAAC,KAAK,CAAC,CAAC;IACf,CAAC;CACF;AAED,kBAAe,IAAI,CAAC","sourcesContent":["import { model as mongooseCreateModel, Schema } from 'mongoose';\nimport { ICustomers } from '../interfaces/ICustomers';\nimport MongoModel from './MongoModel';\n\nconst frameMongooseSchema = new Schema<ICustomers>({\n  name: String,\n  cpf: String,\n  address: String,\n  email: String,\n  phone: String,\n}, { versionKey: false });\n\nclass User extends MongoModel<ICustomers> {\n  constructor(model = mongooseCreateModel('customers', frameMongooseSchema)) {\n    super(model);\n  }\n}\n\nexport default User;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"dd075cc90992bc935e3ba5ad4679ecfd99c45e47","contentHash":"40fcb6792f013bb3a20bf7681d260172c853cf4dbdecbba9c57b1ba60cb493ad"},"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/models/MongoModel.ts":{"path":"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/models/MongoModel.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":19},"end":{"line":3,"column":38}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":27}},"3":{"start":{"line":9,"column":8},"end":{"line":9,"column":58}},"4":{"start":{"line":12,"column":8},"end":{"line":12,"column":43}},"5":{"start":{"line":15,"column":8},"end":{"line":15,"column":75}},"6":{"start":{"line":18,"column":8},"end":{"line":18,"column":48}},"7":{"start":{"line":21,"column":8},"end":{"line":21,"column":33}},"8":{"start":{"line":24,"column":8},"end":{"line":24,"column":45}},"9":{"start":{"line":27,"column":8},"end":{"line":28,"column":46}},"10":{"start":{"line":28,"column":12},"end":{"line":28,"column":46}},"11":{"start":{"line":29,"column":23},"end":{"line":29,"column":87}},"12":{"start":{"line":30,"column":8},"end":{"line":30,"column":22}},"13":{"start":{"line":33,"column":8},"end":{"line":34,"column":42}},"14":{"start":{"line":34,"column":12},"end":{"line":34,"column":42}},"15":{"start":{"line":35,"column":8},"end":{"line":35,"column":53}},"16":{"start":{"line":38,"column":0},"end":{"line":38,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":23},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":38},"end":{"line":10,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":25},"end":{"line":13,"column":5}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":44},"end":{"line":16,"column":5}},"line":14},"4":{"name":"(anonymous_4)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":29},"end":{"line":19,"column":5}},"line":17},"5":{"name":"(anonymous_5)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":20},"end":{"line":22,"column":5}},"line":20},"6":{"name":"(anonymous_6)","decl":{"start":{"line":23,"column":4},"end":{"line":23,"column":5}},"loc":{"start":{"line":23,"column":22},"end":{"line":25,"column":5}},"line":23},"7":{"name":"(anonymous_7)","decl":{"start":{"line":26,"column":4},"end":{"line":26,"column":5}},"loc":{"start":{"line":26,"column":27},"end":{"line":31,"column":5}},"line":26},"8":{"name":"(anonymous_8)","decl":{"start":{"line":32,"column":4},"end":{"line":32,"column":5}},"loc":{"start":{"line":32,"column":22},"end":{"line":36,"column":5}},"line":32}},"branchMap":{"0":{"loc":{"start":{"line":27,"column":8},"end":{"line":28,"column":46}},"type":"if","locations":[{"start":{"line":27,"column":8},"end":{"line":28,"column":46}},{"start":{"line":27,"column":8},"end":{"line":28,"column":46}}],"line":27},"1":{"loc":{"start":{"line":33,"column":8},"end":{"line":34,"column":42}},"type":"if","locations":[{"start":{"line":33,"column":8},"end":{"line":34,"column":42}},{"start":{"line":33,"column":8},"end":{"line":34,"column":42}}],"line":33}},"s":{"0":1,"1":1,"2":9,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1},"f":{"0":9,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{"0":[0,0],"1":[0,0]},"inputSourceMap":{"version":3,"file":"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/models/MongoModel.ts","sources":["/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/models/MongoModel.ts"],"names":[],"mappings":";;AAAA,uCAA+D;AAI/D,MAAe,UAAU;IAGvB,YAAY,KAAc;QACxB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACrB,CAAC;IAEM,KAAK,CAAC,OAAO,CAAC,QAAgB,EAAE,QAAgB;QACrD,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC,CAAC;IACpD,CAAC;IAEM,KAAK,CAAC,SAAS,CAAC,GAAW;QAChC,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC;IACrC,CAAC;IAEM,KAAK,CAAC,eAAe,CAC1B,IAAY,EACZ,GAAW,EACX,KAAa;QAEb,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;IACrE,CAAC;IAEM,KAAK,CAAC,QAAQ,CAAC,QAAgB;QACpC,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC;IAC1C,CAAC;IAEM,KAAK,CAAC,OAAO;QAClB,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;IAC3B,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,GAAK;QACvB,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC;IACvC,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,GAAU,EAAE,GAAc;QAC5C,IAAI,CAAC,IAAA,0BAAe,EAAC,GAAG,CAAC;YAAE,MAAM,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAC;QAE7D,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,iBAAiB,CACzC,EAAE,GAAG,EAAE,EACP,EAAE,GAAG,GAAG,EAAoB,EAC5B,EAAE,GAAG,EAAE,IAAI,EAAE,CACd,CAAC;QACF,OAAO,MAAM,CAAC;IAChB,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,GAAU;QAC5B,IAAI,CAAC,IAAA,0BAAe,EAAC,GAAG,CAAC;YAAE,MAAM,KAAK,CAAC,gBAAgB,CAAC,CAAC;QACzD,OAAO,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC;IAC/C,CAAC;CACF;AAED,kBAAe,UAAU,CAAC","sourcesContent":["import { Model, isValidObjectId, UpdateQuery } from 'mongoose';\n// import { ErrorTypes } from '../errors/catolog';\nimport { IModel } from '../interfaces/IModel';\n\nabstract class MongoModel<T> implements IModel<T> {\n  protected model:Model<T>;\n\n  constructor(model:Model<T>) {\n    this.model = model;\n  }\n\n  public async readOne(username: string, password: string):Promise<T | null> {\n    return this.model.findOne({ username, password });\n  }\n\n  public async readOneId(_id: string):Promise<T | null> {\n    return this.model.findOne({ _id });\n  }\n\n  public async readOneCustumer(\n    name: string,\n    cpf: string,\n    email: string,\n  ):Promise<T | null> {\n    return this.model.findOne({ $or: [{ name }, { cpf }, { email }] });\n  }\n\n  public async readUser(username: string):Promise<T | null> {\n    return this.model.findOne({ username });\n  }\n\n  public async readAll():Promise<T[] | null> {\n    return this.model.find();\n  }\n\n  public async create(obj:T):Promise<T> {\n    return this.model.create({ ...obj });\n  }\n\n  public async update(_id:string, obj:Partial<T>):Promise<T | null> {\n    if (!isValidObjectId(_id)) throw new Error('InvalidMongoId'); \n    \n    const result = this.model.findByIdAndUpdate(\n      { _id },\n      { ...obj } as UpdateQuery<T>,\n      { new: true },\n    );\n    return result;\n  }\n\n  public async delete(_id:string):Promise<T | null> {\n    if (!isValidObjectId(_id)) throw Error('InvalidMongoId');\n    return this.model.findByIdAndRemove({ _id });\n  }\n}\n\nexport default MongoModel;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b07c56c866fa5e72484bafb3b75eac55fede3d36","contentHash":"81600b752a6e1bf0808df9e4d718f0daeb41ce417410fb1cb2c2cdbc71af9321"},"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/utils/CreateJWT.ts":{"path":"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/utils/CreateJWT.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":23},"end":{"line":6,"column":46}},"4":{"start":{"line":7,"column":14},"end":{"line":7,"column":45}},"5":{"start":{"line":10,"column":8},"end":{"line":10,"column":26}},"6":{"start":{"line":13,"column":28},"end":{"line":13,"column":56}},"7":{"start":{"line":14,"column":25},"end":{"line":14,"column":71}},"8":{"start":{"line":15,"column":23},"end":{"line":15,"column":53}},"9":{"start":{"line":16,"column":30},"end":{"line":19,"column":9}},"10":{"start":{"line":20,"column":24},"end":{"line":22,"column":9}},"11":{"start":{"line":23,"column":8},"end":{"line":23,"column":72}},"12":{"start":{"line":26,"column":27},"end":{"line":26,"column":60}},"13":{"start":{"line":27,"column":8},"end":{"line":34,"column":9}},"14":{"start":{"line":28,"column":29},"end":{"line":28,"column":39}},"15":{"start":{"line":29,"column":29},"end":{"line":29,"column":59}},"16":{"start":{"line":30,"column":12},"end":{"line":32,"column":13}},"17":{"start":{"line":31,"column":16},"end":{"line":31,"column":28}},"18":{"start":{"line":33,"column":12},"end":{"line":33,"column":24}},"19":{"start":{"line":35,"column":8},"end":{"line":35,"column":20}},"20":{"start":{"line":38,"column":0},"end":{"line":38,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":23},"end":{"line":11,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":40},"end":{"line":24,"column":5}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":25,"column":4},"end":{"line":25,"column":5}},"loc":{"start":{"line":25,"column":26},"end":{"line":36,"column":5}},"line":25}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":21,"column":18},"end":{"line":21,"column":87}},"type":"cond-expr","locations":[{"start":{"line":21,"column":61},"end":{"line":21,"column":67}},{"start":{"line":21,"column":70},"end":{"line":21,"column":87}}],"line":21},"4":{"loc":{"start":{"line":21,"column":18},"end":{"line":21,"column":58}},"type":"binary-expr","locations":[{"start":{"line":21,"column":18},"end":{"line":21,"column":35}},{"start":{"line":21,"column":39},"end":{"line":21,"column":58}}],"line":21},"5":{"loc":{"start":{"line":27,"column":8},"end":{"line":34,"column":9}},"type":"if","locations":[{"start":{"line":27,"column":8},"end":{"line":34,"column":9}},{"start":{"line":27,"column":8},"end":{"line":34,"column":9}}],"line":27},"6":{"loc":{"start":{"line":30,"column":12},"end":{"line":32,"column":13}},"type":"if","locations":[{"start":{"line":30,"column":12},"end":{"line":32,"column":13}},{"start":{"line":30,"column":12},"end":{"line":32,"column":13}}],"line":30}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":3,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1},"f":{"0":1,"1":3,"2":0,"3":0},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"inputSourceMap":{"version":3,"file":"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/utils/CreateJWT.ts","sources":["/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/utils/CreateJWT.ts"],"names":[],"mappings":";;;;;AAAA,+CAAyD;AACzD,8CAAsB;AAKtB,MAAqB,SAAS;IAG5B,YAAY,KAAmB;QAC7B,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;IACpB,CAAC;IAED,KAAK,CAAC,SAAS,CAAC,QAAgB,EAAE,QAAgB;QAChD,MAAM,WAAW,GAAG,IAAA,aAAG,EAAC,QAAQ,CAAC,CAAC;QAClC,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;QAChE,MAAM,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAC9C,MAAM,aAAa,GAAgB;YACjC,SAAS,EAAE,OAAO;YAClB,SAAS,EAAE,KAAK;SACjB,CAAC;QACF,MAAM,OAAO,GAAG;YACd,IAAI,EAAE,QAAQ,aAAR,QAAQ,uBAAR,QAAQ,CAAE,QAAQ;SACzB,CAAC;QACF,OAAO,IAAA,mBAAI,EAAC,OAAO,EAAE,MAAM,EAAE,aAAa,CAAC,CAAC;IAC9C,CAAC;IAED,KAAK,CAAC,QAAQ,CAAC,KAAa;QAC1B,MAAM,UAAU,GAAG,IAAA,qBAAM,EAAC,KAAK,CAAC,CAAC;QACjC,IAAI,UAAU,IAAI,IAAI,EAAE;YACtB,MAAM,EAAE,IAAI,EAAE,GAAG,UAA+B,CAAC;YACjD,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAChD,IAAI,QAAQ,IAAI,IAAI,EAAE;gBACpB,OAAO,IAAI,CAAC;aACb;YACD,OAAO,IAAI,CAAC;SACb;QACD,OAAO,IAAI,CAAC;IACd,CAAC;CACF;AAjCD,4BAiCC","sourcesContent":["import { sign, SignOptions, decode } from 'jsonwebtoken';\nimport md5 from 'md5';\nimport { JwtPayloadHandler } from '../interfaces/IJwt';\nimport { IModel } from '../interfaces/IModel';\nimport { IUser } from '../interfaces/IUser';\n\nexport default class CreateJWT {\n  private user:IModel<IUser>;\n\n  constructor(model:IModel<IUser>) {\n    this.user = model;\n  }\n\n  async createJwt(username: string, password: string) {\n    const md5password = md5(password);\n    const listUser = await this.user.readOne(username, md5password);\n    const secret = String(process.env.JWT_SECRET);\n    const signInOptions: SignOptions = {\n      algorithm: 'HS256',\n      expiresIn: '24h',\n    };\n    const payload = {\n      name: listUser?.username,\n    };\n    return sign(payload, secret, signInOptions);\n  }\n\n  async validJwt(token: string) {\n    const validToken = decode(token);\n    if (validToken != null) {\n      const { name } = validToken as JwtPayloadHandler;\n      const listUser = await this.user.readUser(name);\n      if (listUser != null) {\n        return true;\n      }\n      return null;\n    }\n    return null;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"619982894bbc232fc899b759703accf7296e1f62","contentHash":"1f342d9cc8b7eb34ffc91f2fe03384ba7a4ce6c688edfd81c4081fcb5c67d87d"},"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/models/Usermodel.ts":{"path":"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/models/Usermodel.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":19},"end":{"line":6,"column":38}},"4":{"start":{"line":7,"column":21},"end":{"line":7,"column":61}},"5":{"start":{"line":8,"column":28},"end":{"line":11,"column":25}},"6":{"start":{"line":14,"column":8},"end":{"line":14,"column":21}},"7":{"start":{"line":17,"column":0},"end":{"line":17,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":77},"end":{"line":15,"column":5}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":13,"column":16},"end":{"line":13,"column":75}},"type":"default-arg","locations":[{"start":{"line":13,"column":24},"end":{"line":13,"column":75}}],"line":13}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":5,"7":1},"f":{"0":1,"1":5},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[5]},"inputSourceMap":{"version":3,"file":"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/models/Usermodel.ts","sources":["/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/models/Usermodel.ts"],"names":[],"mappings":";;;;;AAAA,uCAAgE;AAEhE,8DAAsC;AAEtC,MAAM,mBAAmB,GAAG,IAAI,iBAAM,CAAQ;IAC5C,QAAQ,EAAE,MAAM;IAChB,QAAQ,EAAE,MAAM;CACjB,EAAE,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,CAAC;AAE1B,MAAM,IAAK,SAAQ,oBAAiB;IAClC,YAAY,KAAK,GAAG,IAAA,gBAAmB,EAAC,OAAO,EAAE,mBAAmB,CAAC;QACnE,KAAK,CAAC,KAAK,CAAC,CAAC;IACf,CAAC;CACF;AAED,kBAAe,IAAI,CAAC","sourcesContent":["import { model as mongooseCreateModel, Schema } from 'mongoose';\nimport { IUser } from '../interfaces/IUser';\nimport MongoModel from './MongoModel';\n\nconst frameMongooseSchema = new Schema<IUser>({\n  username: String,\n  password: String,\n}, { versionKey: false });\n\nclass User extends MongoModel<IUser> {\n  constructor(model = mongooseCreateModel('users', frameMongooseSchema)) {\n    super(model);\n  }\n}\n\nexport default User;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"570fa0b1df47ffbf6528654de21039c9fd36ded4","contentHash":"d353ef9ddedf13610eec13b605a28733bebe2a65f87b0178d2ee8dcb02d7b700"},"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/tests/mocks/CustomersMocks.ts":{"path":"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/tests/mocks/CustomersMocks.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":112}},"2":{"start":{"line":4,"column":21},"end":{"line":10,"column":1}},"3":{"start":{"line":11,"column":0},"end":{"line":11,"column":36}},"4":{"start":{"line":12,"column":23},"end":{"line":19,"column":1}},"5":{"start":{"line":20,"column":0},"end":{"line":20,"column":40}},"6":{"start":{"line":21,"column":30},"end":{"line":28,"column":1}},"7":{"start":{"line":29,"column":0},"end":{"line":29,"column":54}},"8":{"start":{"line":30,"column":23},"end":{"line":45,"column":1}},"9":{"start":{"line":46,"column":0},"end":{"line":46,"column":40}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/tests/mocks/CustomersMocks.ts","sources":["/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/tests/mocks/CustomersMocks.ts"],"names":[],"mappings":";;;AAEA,MAAM,YAAY,GAAe;IAC/B,IAAI,EAAE,eAAe;IACrB,KAAK,EAAE,uBAAuB;IAC9B,GAAG,EAAE,iBAAiB;IACtB,KAAK,EAAE,qBAAqB;IAC5B,OAAO,EAAE,gBAAgB;CAC1B,CAAC;AAqCA,oCAAY;AAnCd,MAAM,cAAc,GAAiC;IACnD,GAAG,EAAE,0BAA0B;IAC/B,IAAI,EAAE,eAAe;IACrB,KAAK,EAAE,uBAAuB;IAC9B,GAAG,EAAE,iBAAiB;IACtB,KAAK,EAAE,aAAa;IACpB,OAAO,EAAE,gBAAgB;CAC1B,CAAC;AA6BA,wCAAc;AA3BhB,MAAM,qBAAqB,GAAiC;IAC1D,GAAG,EAAE,0BAA0B;IAC/B,IAAI,EAAE,eAAe;IACrB,KAAK,EAAE,uBAAuB;IAC9B,GAAG,EAAE,iBAAiB;IACtB,KAAK,EAAE,aAAa;IACpB,OAAO,EAAE,gBAAgB;CAC1B,CAAC;AAsBA,sDAAqB;AApBvB,MAAM,cAAc,GAAiB;IACrC;QACE,IAAI,EAAE,eAAe;QACrB,KAAK,EAAE,uBAAuB;QAC9B,GAAG,EAAE,iBAAiB;QACtB,KAAK,EAAE,aAAa;QACpB,OAAO,EAAE,gBAAgB;KAC1B;IACD;QACE,IAAI,EAAE,cAAc;QACpB,KAAK,EAAE,sBAAsB;QAC7B,GAAG,EAAE,oBAAoB;QACzB,KAAK,EAAE,aAAa;QACpB,OAAO,EAAE,gBAAgB;KAC1B;CAAC,CAAC;AAKD,wCAAc","sourcesContent":["import { ICustomers } from '../../interfaces/ICustomers';\n\nconst CustomerMock: ICustomers = {\n  name: 'airam toscano',\n  email: 'airamlobato@gmail.com',\n  cpf: '123.4123.41.-24',\n  phone: '+55 (65) 98150-4918',\n  address: 'rua vasco n803',\n};\n\nconst CustomerMockId: ICustomers & { _id: string } = {\n  _id: '62cf1fc6498565d94eba52cd',\n  name: 'airam toscano',\n  email: 'airamlobato@gmail.com',\n  cpf: '123.4123.41.-24',\n  phone: '65981504918',\n  address: 'rua vasco n803',\n};\n\nconst CustomerUpadateMockId: ICustomers & { _id: string } = {\n  _id: '62cf1fc6498565d94eba52cd',\n  name: 'airam toscano',\n  email: 'airamlobato@gmail.com',\n  cpf: '123.4123.41.-24',\n  phone: '65981504918',\n  address: 'rua vasco n803',\n};\n\nconst CustomersMocks: ICustomers[] = [\n{\n  name: 'airam toscano',\n  email: 'airamlobato@gmail.com',\n  cpf: '123.4123.41.-24',\n  phone: '65981504918',\n  address: 'rua vasco n803',\n}, \n{\n  name: 'aira toscano',\n  email: 'airalobato@gmail.com',\n  cpf: '123.4123213.41.-24',\n  phone: '65981504918',\n  address: 'rua vasco n803',\n}];\n\nexport {\n  CustomerMock,\n  CustomerMockId,\n  CustomersMocks,\n  CustomerUpadateMockId\n};"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3b5146d04ca5b9c6a6e1a1f203b9881d0723066d","contentHash":"cb922a8067f842ae25e7f601a0466a9469fd9869b409e4e79e384b1c509d478b"},"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/tests/mocks/UsersMocks.ts":{"path":"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/tests/mocks/UsersMocks.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":47}},"2":{"start":{"line":4,"column":17},"end":{"line":7,"column":1}},"3":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"4":{"start":{"line":9,"column":19},"end":{"line":13,"column":1}},"5":{"start":{"line":14,"column":0},"end":{"line":14,"column":32}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/tests/mocks/UsersMocks.ts","sources":["/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/tests/mocks/UsersMocks.ts"],"names":[],"mappings":";;;AAEA,MAAM,QAAQ,GAAU;IACtB,QAAQ,EAAE,cAAc;IACxB,QAAQ,EAAE,WAAW;CACtB,CAAC;AASA,4BAAQ;AAPV,MAAM,UAAU,GAA4B;IAC1C,GAAG,EAAE,0BAA0B;IAC/B,QAAQ,EAAE,cAAc;IACxB,QAAQ,EAAE,kCAAkC;CAC7C,CAAC;AAIA,gCAAU","sourcesContent":["import { IUser } from '../../interfaces/IUser';\n\nconst UserMock: IUser = {\n  username: 'airamtoscano',\n  password: 'lobato123',\n};\n\nconst UserMockId: IUser & { _id: string } = {\n  _id: '62cf1fc6498565d94eba52cd',\n  username: 'airamtoscano',\n  password: '2e7062bdb5ff95fefbf5f6b9f2dc7f7b',\n};\n\nexport {\n  UserMock,\n  UserMockId,\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a21dad0b4f43c5a041d1c388dc145356b5330042","contentHash":"e2b3e14383568ce5f0e211ce4e3720ee05cf397ab9d3ecf21230d141ed33ba6b"},"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/controllers/UserControllers.ts":{"path":"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/controllers/UserControllers.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":31}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":23}},"3":{"start":{"line":9,"column":39},"end":{"line":9,"column":47}},"4":{"start":{"line":10,"column":8},"end":{"line":18,"column":9}},"5":{"start":{"line":11,"column":12},"end":{"line":11,"column":59}},"6":{"start":{"line":12,"column":30},"end":{"line":12,"column":74}},"7":{"start":{"line":13,"column":12},"end":{"line":13,"column":51}},"8":{"start":{"line":16,"column":12},"end":{"line":17,"column":79}},"9":{"start":{"line":21,"column":0},"end":{"line":21,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":30},"end":{"line":7,"column":5}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":28},"end":{"line":19,"column":5}},"line":8}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1},"f":{"0":1,"1":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/controllers/UserControllers.ts","sources":["/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/controllers/UserControllers.ts"],"names":[],"mappings":";;AAKA,MAAqB,eAAe;IAClC,YAAoB,OAAwB,EAAU,GAAS;QAA3C,YAAO,GAAP,OAAO,CAAiB;QAAU,QAAG,GAAH,GAAG,CAAM;IAAI,CAAC;IAE7D,KAAK,CAAC,OAAO,CAClB,GAAY,EACZ,GAAa;QAEb,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;QACxC,IAAI;YACF,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;YAC/C,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;YAC/D,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SACxC;QAAC,MAAM;YACN,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC;iBACnB,IAAI,CAAC,EAAE,OAAO,EAAE,0CAA0C,EAAE,CAAC,CAAC;SAClE;IACH,CAAC;CACF;AAjBD,kCAiBC","sourcesContent":["import { Request, Response } from 'express';\nimport IService from '../interfaces/IService';\nimport { IUser } from '../interfaces/IUser';\nimport { Ijwt } from '../interfaces/IJwt';\n\nexport default class UsersController {\n  constructor(private service: IService<IUser>, private jwt: Ijwt) { }\n\n  public async readOne(\n    req: Request,\n    res: Response,\n  ) {\n    const { username, password } = req.body;\n    try {\n      await this.service.readOne(username, password);\n      const createjwt = await this.jwt.createJwt(username, password);\n      return res.status(200).json(createjwt);\n    } catch {\n      return res.status(400)\n        .json({ message: 'Usuario não encontrado ou senha inválida' });\n    }\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e7fe110a3bdea534084ed4746d7be44ea6210f8b","contentHash":"db771e65c3ab63fd5a6e83d9d46c1d15ae768a3f508f2aab13baf8493149c5ce"},"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/services/UserService.ts":{"path":"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/services/UserService.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":14},"end":{"line":6,"column":45}},"4":{"start":{"line":9,"column":8},"end":{"line":9,"column":26}},"5":{"start":{"line":12,"column":28},"end":{"line":12,"column":57}},"6":{"start":{"line":13,"column":23},"end":{"line":13,"column":70}},"7":{"start":{"line":14,"column":8},"end":{"line":15,"column":54}},"8":{"start":{"line":15,"column":12},"end":{"line":15,"column":54}},"9":{"start":{"line":16,"column":8},"end":{"line":16,"column":22}},"10":{"start":{"line":19,"column":0},"end":{"line":19,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":23},"end":{"line":10,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":40},"end":{"line":17,"column":5}},"line":11}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":14,"column":8},"end":{"line":15,"column":54}},"type":"if","locations":[{"start":{"line":14,"column":8},"end":{"line":15,"column":54}},{"start":{"line":14,"column":8},"end":{"line":15,"column":54}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1},"f":{"0":1,"1":2,"2":0},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1],"3":[0,0]},"inputSourceMap":{"version":3,"file":"/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/services/UserService.ts","sources":["/home/toscano/desafioshareenergy/desafio-sharenergy-2023-01/app/backend/src/services/UserService.ts"],"names":[],"mappings":";;;;;AAAA,8CAAsB;AAKtB,MAAM,WAAW;IAGf,YAAY,KAAmB;QAC7B,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;IACpB,CAAC;IAEM,KAAK,CAAC,OAAO,CAAC,SAAgB,EAAE,SAAgB;QACrD,MAAM,WAAW,GAAG,IAAA,aAAG,EAAC,SAAS,CAAC,CAAC;QACnC,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;QAC/D,IAAI,CAAC,MAAM;YAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;QACvD,OAAO,MAAM,CAAC;IAChB,CAAC;CACF;AAED,kBAAe,WAAW,CAAC","sourcesContent":["import md5 from 'md5';\nimport IService from '../interfaces/IService';\nimport { IUser } from '../interfaces/IUser';\nimport { IModel } from '../interfaces/IModel';\n\nclass UserService implements IService<IUser> { \n  private user:IModel<IUser>;\n\n  constructor(model:IModel<IUser>) {\n    this.user = model;\n  }\n\n  public async readOne(_username:string, _password:string):Promise<IUser> {\n    const md5password = md5(_password);\n    const result = await this.user.readOne(_username, md5password);\n    if (!result) throw new Error('Usuario não encontrado');\n    return result;\n  }\n}\n\nexport default UserService;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6a51c02105daf8c2c3088b4dc227365de50a2edc","contentHash":"fd9e3e45269e33a578632e45ad28c5be0e0f9ac05ecea4ce9489c9017e3e4c0f"}}